<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(14)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(14) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(14) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(14) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>GraphQL | Dev Open Library</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="GraphQL" /> <meta property="og:locale" content="en" /> <meta name="description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <meta property="og:description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <link rel="canonical" href="http://localhost:4000/Web/graphql.html" /> <meta property="og:url" content="http://localhost:4000/Web/graphql.html" /> <meta property="og:site_name" content="Dev Open Library" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="GraphQL" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A minimal, responsive and feature-rich Jekyll theme for technical writing.","headline":"GraphQL","url":"http://localhost:4000/Web/graphql.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Dev Open Library </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/Network/network_cors.html" class="nav-list-link">CORS</a></li><li class="nav-list-item"><a href="/OS/os_cpu_scheduling.html" class="nav-list-link">CPU Scheduling</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">CS Study</a></li><li class="nav-list-item"><a href="/Web/web_csr_ssr.html" class="nav-list-link">CSR, SSR 의 등장 배경</a></li><li class="nav-list-item"><a href="/Web/web_csrf.html" class="nav-list-link">CSRF(Cross-site request forgery, 사이트 간 요청 위조)</a></li><li class="nav-list-item"><a href="/OS/os_com_and_operating_system.html" class="nav-list-link">Computer 구조</a></li><li class="nav-list-item"><a href="/Database/db_cache.html" class="nav-list-link">DB 캐싱</a></li><li class="nav-list-item"><a href="/Algorithm/ag_dfs_bfs.html" class="nav-list-link">DFS와 BFS</a></li><li class="nav-list-item"><a href="/Algorithm/ag_dp.html" class="nav-list-link">DP (Dynamic Programming)</a></li><li class="nav-list-item"><a href="/OS/os_deadlock.html" class="nav-list-link">Deadlock이란?</a></li><li class="nav-list-item"><a href="/Network/network_dns.html" class="nav-list-link">Domain</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_factory_pattern.html" class="nav-list-link">Factory Pattern</a></li><li class="nav-list-item"><a href="/Algorithm/ag_gcd_lcm.html" class="nav-list-link">GCD(Greatest Common Divisor) 알고리즘</a></li><li class="nav-list-item"><a href="/Web/graphql.html" class="nav-list-link">GraphQL</a></li><li class="nav-list-item"><a href="/Network/network_http_https.html" class="nav-list-link">HTTP (Hyper Text Transfer Protocol)</a></li><li class="nav-list-item"><a href="/Network/network_http_message.html" class="nav-list-link">HTTP 메시지</a></li><li class="nav-list-item"><a href="/Network/network_ip.html" class="nav-list-link">IP의 정의와 역할</a></li><li class="nav-list-item"><a href="/Database/db_index.html" class="nav-list-link">Index? 그게뭔데!</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_iterator_pattern.html" class="nav-list-link">Iterator pattern</a></li><li class="nav-list-item"><a href="/Web/web_jwt.html" class="nav-list-link">JWT</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_mvc_pattern.html" class="nav-list-link">MVC 패턴</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_mvp_pattern.html" class="nav-list-link">MVP Architecture Pattern</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_mvvm_pattern.html" class="nav-list-link">MVVM 패턴 정의</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_map.html" class="nav-list-link">Map</a></li><li class="nav-list-item"><a href="/OS/os_memory.html" class="nav-list-link">Memory</a></li><li class="nav-list-item"><a href="/OS/os_multi_processing.html" class="nav-list-link">Multi Process (멀티 프로세스)</a></li><li class="nav-list-item"><a href="/Network/network_devices.html" class="nav-list-link">Network Device</a></li><li class="nav-list-item"><a href="/Network/network_osi_tcpip.html" class="nav-list-link">OSI 7계층 &amp; TCP/IP 4계층</a></li><li class="nav-list-item"><a href="/OS/os_pcb_and_context_switch.html" class="nav-list-link">PCB와 Context Switching</a></li><li class="nav-list-item"><a href="/Database/db_query_optimization.html" class="nav-list-link">Query Optimization(Slow Query Tuning)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_quick_sort.html" class="nav-list-link">Quick Sort</a></li><li class="nav-list-item"><a href="/Web/restful_api.html" class="nav-list-link">RESTful API 설계 원칙과 네이밍 컨벤션</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_set.html" class="nav-list-link">Set</a></li><li class="nav-list-item"><a href="/OS/os_Blocking_Non-Blocking_Synchronous_Asynchronous.html" class="nav-list-link">Synchronous?</a></li><li class="nav-list-item"><a href="/Network/network_tcp.html" class="nav-list-link">TCP</a></li><li class="nav-list-item"><a href="/OS/os_thread.html" class="nav-list-link">Thread</a></li><li class="nav-list-item"><a href="/Network/network_udp.html" class="nav-list-link">UDP (User Datagram Protocol)</a></li><li class="nav-list-item"><a href="/OS/os_mutex_semaphore.html" class="nav-list-link">공유 자원 &amp; 임계 영역(Semaphore &amp; Mutex)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_implementation.html" class="nav-list-link">구현(Implementation)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_greedy.html" class="nav-list-link">그리디 (Greedy)</a></li><li class="nav-list-item"><a href="/Network/readme_NW.html" class="nav-list-link">네트워크</a></li><li class="nav-list-item"><a href="/Network/network_basic.html" class="nav-list-link">네트워크의 기초</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_revealing_module_pattern.html" class="nav-list-link">노출모듈 패턴 정의</a></li><li class="nav-list-item"><a href="/Algorithm/ag_dijkstra.html" class="nav-list-link">다익스트라(dijkstra) 알고리즘</a></li><li class="nav-list-item"><a href="/Database/db_migration.html" class="nav-list-link">데이터 마이그레이션 정리 노트</a></li><li class="nav-list-item"><a href="/Database/readme_DB.html" class="nav-list-link">데이터베이스</a></li><li class="nav-list-item"><a href="/Database/db_basic.html" class="nav-list-link">데이터베이스(Database) 기초</a></li><li class="nav-list-item"><a href="/Database/db_types_of_databases.html" class="nav-list-link">데이터베이스의 종류</a></li><li class="nav-list-item"><a href="/Design_Pattern/readme_DP.html" class="nav-list-link">디자인패턴</a></li><li class="nav-list-item"><a href="/Network/network_load_balancing.html" class="nav-list-link">로드 밸런싱이란?</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_array_vector.html" class="nav-list-link">배열(Array)</a></li><li class="nav-list-item"><a href="/Database/db_backup_recovery.html" class="nav-list-link">백업(Backup)과 복구(Recovery)</a></li><li class="nav-list-item"><a href="/Database/db_distributed_database.html" class="nav-list-link">분산형 데이터베이스</a></li><li class="nav-list-item"><a href="/Algorithm/ag_divide_and_conquer.html" class="nav-list-link">분할 정복 알고리즘</a></li><li class="nav-list-item"><a href="/Algorithm/ag_bitMask.html" class="nav-list-link">비트마스크</a></li><li class="nav-list-item"><a href="/Algorithm/ag_permutation_combination.html" class="nav-list-link">순열 &amp; 조합</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_stack_queue.html" class="nav-list-link">스택 &amp; 큐</a></li><li class="nav-list-item"><a href="/Algorithm/ag_stack_queue.html" class="nav-list-link">스택 &amp; 큐</a></li><li class="nav-list-item"><a href="/Database/db_explain.html" class="nav-list-link">실행 계획(EXPLAIN) 분석</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_singleton_pattern.html" class="nav-list-link">싱글톤 패턴</a></li><li class="nav-list-item"><a href="/Algorithm/readme_AG.html" class="nav-list-link">알고리즘</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_Time_Space%20Complexity.html" class="nav-list-link">알고리즘의 성능 분석: Big-O 표기법과 복잡도 이해하기</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_linked_list.html" class="nav-list-link">연결 리스트 (Linked List)</a></li><li class="nav-list-item"><a href="/OS/readme_OS.html" class="nav-list-link">운영체제</a></li><li class="nav-list-item"><a href="/Web/readme_Web.html" class="nav-list-link">웹</a></li><li class="nav-list-item"><a href="/Network/network_web_server.html" class="nav-list-link">웹 서버</a></li><li class="nav-list-item"><a href="/Database/db_event_sourcing_cqrs.html" class="nav-list-link">이벤트 소싱(Event Sourcing)과 CQRS(Command Query Responsibillity Segregation)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_binary_search.html" class="nav-list-link">이분 탐색 (Binary Search)</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_binary_tree.html" class="nav-list-link">이진 트리, 이진 탐색 트리</a></li><li class="nav-list-item"><a href="/Data_Structure/readme_DS.html" class="nav-list-link">자료구조</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_strategy_pattern.html" class="nav-list-link">전략패턴(Strategy Pattern) 개요</a></li><li class="nav-list-item"><a href="/Database/db_normal_forms.html" class="nav-list-link">정규화</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_observer_pattern.html" class="nav-list-link">정의</a></li><li class="nav-list-item"><a href="/Database/db_join.html" class="nav-list-link">조인(JOIN)</a></li><li class="nav-list-item"><a href="/Network/cookie_and_session.html" class="nav-list-link">쿠키 &amp; 세션</a></li><li class="nav-list-item"><a href="/Database/db_transaction.html" class="nav-list-link">트랜잭션(Transaction)</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_tree_graph.html" class="nav-list-link">트리와 그래프의 공통점</a></li><li class="nav-list-item"><a href="/Database/db_partitioning_sharding.html" class="nav-list-link">파티셔닝 (Partitioning)</a></li><li class="nav-list-item"><a href="/OS/os_process.html" class="nav-list-link">프로세스(Process)란?</a></li><li class="nav-list-item"><a href="/Design_Pattern/dp_proxy_pattern.html" class="nav-list-link">프록시 패턴 (Proxy Pattern)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_merge_sort.html" class="nav-list-link">합병 정렬(Merge Sort)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_hashing.html" class="nav-list-link">해싱(Hashing)이란?</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_hash_table.html" class="nav-list-link">해싱, 해시 함수 란?</a></li><li class="nav-list-item"><a href="/Algorithm/ag_heap.html" class="nav-list-link">힙(Heap)</a></li><li class="nav-list-item"><a href="/Data_Structure/ds_heap_priority_queue.html" class="nav-list-link">힙(Heap)</a></li><li class="nav-list-item"><a href="/Algorithm/ag_heap_sort.html" class="nav-list-link">힙(Heap)이란, 어떤 자료구조일까?</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dev Open Library" aria-label="Search Dev Open Library" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="graphql"> <a href="#graphql" class="anchor-heading" aria-labelledby="graphql"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GraphQL </h1> <ul> <li>새로운 API 표준입니다.</li> <li>특정한 데이터베이스나 특정한 스토리지 엔진과 관계되어 있지 않습니다.</li> <li>페이스북에서 개발 및 오픈소스화 되었습니다.</li> </ul> <h2 id="rest-vs-graphql"> <a href="#rest-vs-graphql" class="anchor-heading" aria-labelledby="rest-vs-graphql"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> REST vs GraphQL </h2> <h3 id="rest"> <a href="#rest" class="anchor-heading" aria-labelledby="rest"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> REST </h3> <p>여러 개의 엔드포인트가 있고, 각 엔드포인트에 접근해 데이터를 수집합니다. 필요한 데이터를 가져오기 위해 n번의 요청을 보내야하고, 불필요한 추가 정보를 반환하기 때문에 과도한 페칭이 발생합니다.</p> <p><img src="/Web/img/web_graphql_rest.png" alt="REST API" /></p> <p><em>REST 흐름, 출처: <a href="https://www.howtographql.com/basics/1-graphql-is-the-better-rest/">GraphQL 문서</a></em></p> <ol> <li><code class="language-plaintext highlighter-rouge">/users/&lt;id&gt;</code>: 초기 사용자 데이터를 가져오는 엔드포인트</li> <li><code class="language-plaintext highlighter-rouge">/users/&lt;id&gt;/posts</code>: 사용자의 모든 게시물을 반환하는 엔드포인트</li> <li><code class="language-plaintext highlighter-rouge">/users/&lt;id&gt;/followers</code>: 사용자별 팔로워 목록을 반환하는 엔드포인트</li> </ol> <h3 id="graphql-1"> <a href="#graphql-1" class="anchor-heading" aria-labelledby="graphql-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GraphQL </h3> <p>구체적인 데이터 요구 사항을 포함하는 단일 쿼리를 GraphQL 서버로 전송하고, 서버는 요구사항에 맞는 JSON 객체를 응답합니다.</p> <p><img src="/Web/img/web_graphql_rest.png" alt="GraphQL" /></p> <p><em>GraphQL 흐름, 출처: <a href="https://www.howtographql.com/basics/1-graphql-is-the-better-rest/">GraphQL 문서</a></em></p> <h3 id="비교"> <a href="#비교" class="anchor-heading" aria-labelledby="비교"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 비교 </h3> <p><img src="/Web/img/web_graphql_rest_graphql.png" alt="비교" /></p> <p><em>REST와 GraphQL 비교, 출처: <a href="https://tech.kakao.com/posts/364">카카오 기술 블로그 - GraphQL 개념잡기</a></em></p> <ul> <li>오버페칭(Overfetching)해결 <ul> <li>REST에서는 특정 엔드포인트에서 일부 데이터만 필요해도 전부 다 받아야한다.</li> <li>graphQL은 필요한 필드만 명시해 요청이 가능하다.</li> </ul> </li> <li>언더페칭(Underfetching)과 N+1 해결 <ul> <li>REST에서는 각 사용자에 대한 상세 데이터 요청시 사용자 목록 조회 1번과 사용자 상세 데이터에 대한 요청 N번인 N+1번만큼 요청한다.</li> <li>graphQL은 한번으로 조회 가능하다.</li> </ul> </li> </ul> <h2 id="graphql의-핵심-개념"> <a href="#graphql의-핵심-개념" class="anchor-heading" aria-labelledby="graphql의-핵심-개념"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GraphQL의 핵심 개념 </h2> <h3 id="처리-흐름"> <a href="#처리-흐름" class="anchor-heading" aria-labelledby="처리-흐름"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 처리 흐름 </h3> <p><img src="/Web/img/web_graphql_flow.png" alt="처리 흐름" /></p> <p><em>다이어그램, 출처:<a href="https://tech.kakao.com/posts/364">카카오 기술 블로그 - GraphQL 개념잡기</a></em></p> <ol> <li>GraphQL Query: 클라이언트가 GraphQL 쿼리를 서버에 전송합니다. 이 쿼리는 필요한 데이터의 구조와 필드를 정확히 명시합니다.</li> <li>Query Language Processor: 쿼리 언어 프로세서는 받은 쿼리를 파싱하고 유효성을 검사합니다. 이 단계에서 쿼리의 문법적 오류나 스키마와의 불일치를 확인합니다.</li> <li>GraphQL Resolver: 개발자가 구현해야 하는 부분으로, 실제 데이터를 가져오는 로직이 포함됩니다. 리졸버는 다양한 데이터 소스(오른쪽에 표시된)와 연결하여 요청된 데이터를 검색합니다: <ul> <li>RDB (관계형 데이터베이스)</li> <li>NoSQL 데이터베이스</li> <li>In-memory DB (메모리 내 데이터베이스)</li> <li>REST/SOAP API 등 다른 웹 서비스</li> </ul> </li> <li>Output (JSON): 최종적으로 처리된 데이터는 JSON 형식으로 클라이언트에 반환됩니다.</li> </ol> <h3 id="쿼리--뮤테이션"> <a href="#쿼리--뮤테이션" class="anchor-heading" aria-labelledby="쿼리--뮤테이션"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 쿼리 &amp; 뮤테이션 </h3> <p>gql에서는 굳이 쿼리와 뮤테이션을 나누는데 내부적으로 들어가면 사실상 이 둘은 별 차이가 없습니다. 쿼리는 데이터를 읽는데® 사용하고, 뮤테이션은 데이터를 변조(CUD) 하는데 사용한다는 개념 적인 규약을 정해 놓은 것 뿐입니다.</p> <blockquote> <ul> <li>쿼리: 데이터를 읽어오는 요청</li> <li>뮤테이션: 데이터를 변경하는 요청</li> </ul> </blockquote> <h4 id="쿼리"> <a href="#쿼리" class="anchor-heading" aria-labelledby="쿼리"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 쿼리 </h4> <p>데이터를 읽어오는 요청과 그에 대한 응답의 예시를 보며 이해합니다.</p> <ul> <li>기본 요청 <ul> <li>요청<pre><code class="language-graphQL">  {
    hero {
      name
    }
  }
</code></pre></li> <li>결과 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>인자: 특정 필드의 값을 지정 <ul> <li>요청: id가 1000인 사람의 이름과 키를 조회<pre><code class="language-graphQL">  {
    human(id: "1000") {
      name
      # 키는 열거형 타입으로 사용
      height(unit: METER)
    }
  }
</code></pre></li> <li>결과 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"human"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.72</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>별칭: 결과에 필드명을 별칭으로 지정 <ul> <li>요청: EMPIRE 에피스드의 영웅과 JEDI 에피소드의 영웅을 조회<pre><code class="language-graphQL">{
  empireHero: hero(episode: EMPIRE) { # empireHero이라는 별칭 사용
    name
  }
  jediHero: hero(episode: JEDI) { # jediHero이라는 별칭 사용
    name
  }
}
</code></pre></li> <li>결과 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"empireHero"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="err">지정한</span><span class="w"> </span><span class="err">필드명으로</span><span class="w"> </span><span class="err">나옴</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"jediHero"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>프래그먼트: 재사용 가능한 필드 묶음을 선언해 사용 <ul> <li>요청 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="n">leftComparison</span><span class="p">:</span><span class="w"> </span><span class="n">hero</span><span class="p">(</span><span class="n">episode</span><span class="p">:</span><span class="w"> </span><span class="n">EMPIRE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="p">...</span><span class="n">comparisonFields</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="n">rightComparison</span><span class="p">:</span><span class="w"> </span><span class="n">hero</span><span class="p">(</span><span class="n">episode</span><span class="p">:</span><span class="w"> </span><span class="n">JEDI</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c"># rightComparison이라는 별칭 사용</span><span class="w">
        </span><span class="p">...</span><span class="n">comparisonFields</span><span class="w"> </span><span class="c"># ...을 붙여서 프래그먼트를 사용</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
    
</span><span class="k">fragment</span><span class="w"> </span><span class="n">comparisonFields</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c"># 재사용 가능한 필드 묶음을 선언</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">appearsIn</span><span class="w">
    </span><span class="n">friends</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">name</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>응답 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"leftComparison"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"appearsIn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"NEWHOPE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"EMPIRE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"JEDI"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"friends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Han Solo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leia Organa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C-3PO"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"rightComparison"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"appearsIn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"NEWHOPE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"EMPIRE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"JEDI"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"friends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Han Solo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leia Organa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>작업 이름: 작업의 이름을 지정해 명시 <ul> <li>요청 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">query</span><span class="w"> </span><span class="n">HeroNameAndFriends</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c"># HeroNameAndFriends라는 작업이름 지정, query는 작업 타입을 의미</span><span class="w">
  </span><span class="n">hero</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">friends</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">name</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>응답 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"friends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Han Solo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leia Organa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>변수: 작성한 쿼리에 변수를 넣어, 쿼리를 동적으로 사용 <ul> <li>요청: <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 쿼리 정의</span><span class="w">
</span><span class="k">query</span><span class="w"> </span><span class="n">HeroNameAndFriends</span><span class="p">(</span><span class="nv">$episode</span><span class="p">:</span><span class="w"> </span><span class="n">Episode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c"># 외부에서 전달받을 인수를 '$'을 붙여 지정, 타입은 Episode 으로 지정</span><span class="w">
  </span><span class="n">hero</span><span class="p">(</span><span class="n">episode</span><span class="p">:</span><span class="w"> </span><span class="nv">$episode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">friends</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">name</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
    
</span><span class="c"># 쿼리에 대한 변수</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">"</span><span class="n">episode</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">JEDI</span><span class="err">"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>응답 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R2-D2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"friends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luke Skywalker"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Han Solo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leia Organa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>지시어 <ul> <li>요청</li> <li>응답</li> </ul> </li> </ul> <h4 id="뮤테이션"> <a href="#뮤테이션" class="anchor-heading" aria-labelledby="뮤테이션"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 뮤테이션 </h4> <p>데이터를 변경하는 요청의 예시와 그에 대한 응답 예시를 통해 이해합니다.</p> <ul> <li>기본 요청 <ul> <li>요청 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">mutation</span><span class="w"> </span><span class="n">CreateReviewForEpisode</span><span class="p">(</span><span class="nv">$ep</span><span class="p">:</span><span class="w"> </span><span class="n">Episode</span><span class="p">!,</span><span class="w"> </span><span class="nv">$review</span><span class="p">:</span><span class="w"> </span><span class="n">ReviewInput</span><span class="p">!)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">createReview</span><span class="p">(</span><span class="n">episode</span><span class="p">:</span><span class="w"> </span><span class="nv">$ep</span><span class="p">,</span><span class="w"> </span><span class="n">review</span><span class="p">:</span><span class="w"> </span><span class="nv">$review</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">stars</span><span class="w">
      </span><span class="n">commentary</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  
  
  </span><span class="p">{</span><span class="w">
    </span><span class="err">"</span><span class="n">ep</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">JEDI</span><span class="err">"</span><span class="p">,</span><span class="w">
    </span><span class="err">"</span><span class="n">review</span><span class="err">":</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">"</span><span class="n">stars</span><span class="err">":</span><span class="w"> </span><span class="err">5</span><span class="p">,</span><span class="w">
      </span><span class="err">"</span><span class="n">commentary</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">great</span><span class="w"> </span><span class="n">movie</span><span class="p">!</span><span class="err">"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>응답 <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"createReview"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"stars"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"commentary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a great movie!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> </ul> <h3 id="스키마와-타입"> <a href="#스키마와-타입" class="anchor-heading" aria-labelledby="스키마와-타입"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 스키마와 타입 </h3> <ul> <li> <p>스키마는 API의 기능을 명시하고, 클라이언트가 데이터를 요청하는 방식을 정의합니다.</p> </li> <li> <p>GraphQL은 API 스키마를 정의하기 위해 자체 타입 시스템을 사용하며, 이때 사용하는 문법을 스키마 정의 언어(SDL: Schema Definition Language)라고 합니다.</p> <ul> <li>GraphQL 스키마 언어(SDL)를 사용하여 쿼리 가능한 데이터의 구조와 타입을 정의합니다.</li> </ul> </li> </ul> <h4 id="데이터-타입"> <a href="#데이터-타입" class="anchor-heading" aria-labelledby="데이터-타입"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 데이터 타입 </h4> <ul> <li>기본 타입: 스칼라 타입 <ul> <li>Int: 부호가 있는 32비트 정수.</li> <li>Float: 부호가 있는 부동소수점 값.</li> <li>String: UTF-8 문자열.</li> <li>Boolean: true 또는 false.</li> <li>ID: ID 스칼라 타입은 객체를 다시 요청하거나 캐시의 키로써 자주 사용되는 고유 식별자를 나타냅니다. ID 타입은 String 과 같은 방법으로 직렬화되지만, ID 로 정의하는 것은 사람이 읽을 수 있도록 하는 의도가 아니라는 것을 의미합니다.</li> </ul> </li> <li>객체 타입(object) <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
    </span><span class="n">appearsIn</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Episode</span><span class="p">]!</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <ul> <li><code class="language-plaintext highlighter-rouge">Character</code>: GraphQL 객체 타입 입니다. 즉, 필드가 있는 타입입니다. 스키마의 대부분의 타입은 객체 타입입니다.</li> <li><code class="language-plaintext highlighter-rouge">name</code> <ul> <li><code class="language-plaintext highlighter-rouge">Character</code> 타입의 필드</li> <li>String 타입으로 내장된 스칼라 타입 중 하나입니다.</li> <li><code class="language-plaintext highlighter-rouge">!</code>: 필드가 non-nullable임을 의미합니다.</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge">appearsIn</code> <ul> <li><code class="language-plaintext highlighter-rouge">Character</code> 타입의 필드</li> <li><code class="language-plaintext highlighter-rouge">!</code>: 필드가 non-nullable 임을 의미합니다.</li> <li><code class="language-plaintext highlighter-rouge">[]</code>: 필드가 배열(array)임을 나타냅니다.</li> </ul> </li> </ul> </li> <li>열거형 타입(enum): 타입의 인자가 허용된 값 중 하나임 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">enum</span><span class="w"> </span><span class="n">Episode</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">NEWHOPE</span><span class="w">
    </span><span class="n">EMPIRE</span><span class="w">
    </span><span class="n">JEDI</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>인터페이스(interface): 구현하기 위해 타입이 포함해야하는 특정 필드들을 포함하는 추상 타입, 공통 필드를 정의하는 추상 타입 <ul> <li>정의 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w">
  </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
  </span><span class="n">friends</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Character</span><span class="p">]</span><span class="w">
  </span><span class="n">appearsIn</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Episode</span><span class="p">]!</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li>사용 예시 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">Human</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w">
  </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
  </span><span class="n">friends</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Character</span><span class="p">]</span><span class="w">
  </span><span class="n">appearsIn</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Episode</span><span class="p">]!</span><span class="w">
  </span><span class="n">starships</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Starship</span><span class="p">]</span><span class="w">
  </span><span class="n">totalCredits</span><span class="p">:</span><span class="w"> </span><span class="nb">Int</span><span class="w">
</span><span class="p">}</span><span class="w">
    
</span><span class="k">type</span><span class="w"> </span><span class="n">Droid</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="p">!</span><span class="w">
  </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">!</span><span class="w">
  </span><span class="n">friends</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Character</span><span class="p">]</span><span class="w">
  </span><span class="n">appearsIn</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Episode</span><span class="p">]!</span><span class="w">
  </span><span class="n">primaryFunction</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ul> </li> <li>유니온 타입(union): 인터페이스와 매우 유사하지만, 타입 간에 공통 필드는 없습니다. <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">union</span><span class="w"> </span><span class="n">SearchResult</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Human</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Droid</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Starship</span><span class="w">
</span></code></pre></div> </div> <ul> <li>enum은 나열한 값 중 하나를 선택해야하고, interface는 공통 필드가 있어야 한다.</li> <li>유니온은 이와 달리 단순히 값을 묶는 의미로, 3개는 각각 다른 필드를 가질 수 있으며 결과 값으로 3개의 값 중 하나를 <strong>반환 하겠다</strong>는 의미</li> </ul> </li> <li>입력 타입(input type): 객체 타입과 같지만, <code class="language-plaintext highlighter-rouge">type</code>이 아닌 <code class="language-plaintext highlighter-rouge">input</code>을 사용하는 점이 다릅니다. <ul> <li>정의 <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">input</span><span class="w"> </span><span class="n">ReviewInput</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">stars</span><span class="p">:</span><span class="w"> </span><span class="nb">Int</span><span class="p">!</span><span class="w">
      </span><span class="n">commentary</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span></code></pre></div> </div> </li> <li> <p>사용</p> <div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">mutation</span><span class="w"> </span><span class="n">CreateReviewForEpisode</span><span class="p">(</span><span class="nv">$ep</span><span class="p">:</span><span class="w"> </span><span class="n">Episode</span><span class="p">!,</span><span class="w"> </span><span class="nv">$review</span><span class="p">:</span><span class="w"> </span><span class="n">ReviewInput</span><span class="p">!)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">createReview</span><span class="p">(</span><span class="n">episode</span><span class="p">:</span><span class="w"> </span><span class="nv">$ep</span><span class="p">,</span><span class="w"> </span><span class="n">review</span><span class="p">:</span><span class="w"> </span><span class="nv">$review</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">stars</span><span class="w">
      </span><span class="n">commentary</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
        
  </span><span class="p">{</span><span class="w">
    </span><span class="err">"</span><span class="n">ep</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">JEDI</span><span class="err">"</span><span class="p">,</span><span class="w">
    </span><span class="err">"</span><span class="n">review</span><span class="err">":</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">"</span><span class="n">stars</span><span class="err">":</span><span class="w"> </span><span class="err">5</span><span class="p">,</span><span class="w">
      </span><span class="err">"</span><span class="n">commentary</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">great</span><span class="w"> </span><span class="n">movie</span><span class="p">!</span><span class="err">"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"createReview"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"stars"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"commentary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a great movie!"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <h4 id="요청-타입"> <a href="#요청-타입" class="anchor-heading" aria-labelledby="요청-타입"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 요청 타입 </h4> </li> </ul> </li> </ul> <p>GraphQL 서비스는 반드시 <code class="language-plaintext highlighter-rouge">Query</code> 타입을 포함하며, <code class="language-plaintext highlighter-rouge">Mutation</code> 타입은 선택적으로 포함할 수 있습니다. 이 타입들은 일반적인 객체 타입과 구조는 같지만, 모든 GraphQL 요청의 진입점(entry point) 역할을 하므로 특별한 의미를 가집니다.</p> <ul> <li>Query: 읽기 전용 요청</li> <li>Mutation: 쓰기/변경 요청</li> <li>Subscription: 실시간 데이터 스트림</li> </ul> <h2 id="graphql-아키텍처-구성-방식"> <a href="#graphql-아키텍처-구성-방식" class="anchor-heading" aria-labelledby="graphql-아키텍처-구성-방식"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GraphQL 아키텍처 구성 방식 </h2> <h3 id="연결된-데이터베이스가-있는-graphql-서버"> <a href="#연결된-데이터베이스가-있는-graphql-서버" class="anchor-heading" aria-labelledby="연결된-데이터베이스가-있는-graphql-서버"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 연결된 데이터베이스가 있는 GraphQL 서버 </h3> <p><img src="/Web/img/web_graphql_db.png" alt="일반적인 방법" /></p> <p><em>일반적인 방법, 출처:<a href="https://www.howtographql.com/basics/3-big-picture/">GraphQL 문서</a></em></p> <p>쿼리 해결(resolving)</p> <ol> <li>클라이언트로부터 쿼리가 도착</li> <li>서버는 해당 쿼리의 페이로드를 해석</li> <li>데이터베이스에서 필요한 정보를 조회</li> </ol> <p>특징</p> <ul> <li>GraphQL은 전송 계층에 구애받지 않기 때문에, 모든 네트워크 프로토콜(TCP, 웹소켓 등)과 함께 사용할 수 있습니다.</li> <li>데이터베이스나 데이터 저장 형식에 구애받지 않기 떄문에, Nosql DB를 사용할 수 있습니다.</li> </ul> <h3 id="기존-시스템을-통합하는-graphql-계층"> <a href="#기존-시스템을-통합하는-graphql-계층" class="anchor-heading" aria-labelledby="기존-시스템을-통합하는-graphql-계층"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 기존 시스템을 통합하는 GraphQL 계층 </h3> <p>단일하고 일관된 GraphQL API를 기반으로 여러 기존 시스템을 통합하는 방식</p> <p>실제 서비스는 여러 개인데, GraphQL이라는 단인 API로 감싸서 간단하게 사용하도록 만듬</p> <p><img src="/Web/img/web_graphql_legacy.png" alt="레거시 통합" /></p> <p><em>여러 서비스 통합, 출처:<a href="https://www.howtographql.com/basics/3-big-picture/">GraphQL 문서</a></em></p> <p>마이크로서비스, 레거시 인프라 또는 타사 API와 같은 기존 시스템의 복잡성을 단일 GraphQL 인터페이스 뒤에 숨길 수 있습니다.</p> <h3 id="하이브리드-방식-db--기존-시스템-통합"> <a href="#하이브리드-방식-db--기존-시스템-통합" class="anchor-heading" aria-labelledby="하이브리드-방식-db--기존-시스템-통합"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 하이브리드 방식 (DB + 기존 시스템 통합) </h3> <p>위에서 설명한 두 가지 접근 방식을 결합하는 방식으로, 연결된 DB가 있지만 다른 시스템과도 통신하는 서버를 만듬</p> <p><img src="/Web/img/web_graphql_db_legacy.png" alt="하이브리드 방식" /></p> <p><em>하이브리드 방식, 출처:<a href="https://www.howtographql.com/basics/3-big-picture/">GraphQL 문서</a></em></p> <h2 id="리졸버resolver"> <a href="#리졸버resolver" class="anchor-heading" aria-labelledby="리졸버resolver"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 리졸버(Resolver) </h2> <p>이렇게 GraphQL이 유연할 수 있는 이유로, 요청을 보내면 <strong>각 필드마다 실행되는 함수</strong>를 리졸버 함수라고 합니다.</p> <p><img src="/Web/img/web_graphql_resolver.png" alt="리졸버" /></p> <p><em>요청(좌), 실행되는 리졸버(우), 출처:<a href="https://www.howtographql.com/basics/3-big-picture/">GraphQL 문서</a></em></p> <h3 id="연쇄-호출"> <a href="#연쇄-호출" class="anchor-heading" aria-labelledby="연쇄-호출"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 연쇄 호출 </h3> <ul> <li>객체 타입을 조회할 때마다 그 객체의 필드를 다시 조회하는 방식으로 동작합니다.</li> <li>쿼리의 구조를 따라 DFS(Depth First Search) 방식으로 리졸버를 호출됩니다. <ul> <li>이 방식은 마치 그래프 구조를 탐색하는 것과 유사하기 때문에 “Graph”QL이라는 이름과도 잘 어울립니다.</li> </ul> </li> </ul> <ol> <li>user(id: 123)를 조회: user 리졸버가 실행, User 반환</li> <li>name 필드 조회: 스칼라 타입 -&gt; 호출 종료</li> <li>followers 필드 조회: 객체 타입 -&gt; User[] 반환 -&gt;다시 followers 리졸버 호출</li> <li>followers.name과 followers.age 조회: 배열 내 객체마다 필드 조회하는 리졸버 실행, 스칼라 값 -&gt; 리졸버 종료</li> </ol> <h1 id="출처"> <a href="#출처" class="anchor-heading" aria-labelledby="출처"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 출처 </h1> <ul> <li><a href="https://graphql-kr.github.io/learn/">GraphQL 문서</a></li> <li><a href="https://tech.kakao.com/posts/364">카카오 기술 블로그 - GraphQL 개념잡기</a></li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
